<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.w3.org/1999/xhtml"
      layout:decorate="~{default.html}">
<th:block layout:fragment="content">
    <!--<div class="row">-->
        <!--<h4>-->
            <!--Подготовка к аттестации работников организаций по курсу:-->
        <!--</h4>-->
    <!--</div>-->
    <!--<div class="row">-->
        <!--<th:block-->
                <!--th:replace="blocks/courses-list::courses-list(courses=${allCourses}, showControls=${false})"></th:block>-->
    <!--</div>-->
    <div class="row">
        <div class="quote" style="width:505px; float:right">
            <span class="quote__icon"></span>
            <div class="quote__text">В наибольшей безопасности тот, кто начеку, даже когда нет опасности.</div>
            <div class="quote__autor">Сайрус Паблиус</div>
        </div>
    </div>
    <!--<div class="row">-->
        <!--<a th:href="@{/section/{id}(id=${test.section.id})}" th:text="${test.section.name}"></a>-->
    <!--</div>-->
    <div class="row">
        <h5 >
            <strong th:text="${test.title}"></strong>
            <a sec:authorize="${hasRole('ROLE_ADMIN')}"
               th:href="@{/tests/{id}/edit(id=${test.id})}" class="edit-link">
                <i class="fa fa-edit"></i>
            </a>
        </h5>
    </div>

    <div class="row tickets">
        <th:block th:if="${test.questionsNumber > 0}">
            <th:block th:if="${colsCount == 1}">
                <ul class="list list-striped">
                    <li class="list__item"
                        th:each="i : ${#numbers.sequence( 0, ticketsCount -1) }">
                        <a th:href="@{/ticket/(testId=${test.id},ticketNum=${i+1})}">
                            Билет №
                            <th:block th:text="${i+1}"></th:block>
                        </a>
                    </li>
                </ul>
            </th:block>
            <th:block th:if="${colsCount == 2}">
                <ul class="list list-striped">
                    <li class="list__item" th:each="i : ${#numbers.sequence( 0, 10)}">
                        <a th:href="@{/ticket/(testId=${test.id},ticketNum=${i+1})}">
                            Билет №
                            <th:block th:text="${i+1}"></th:block>
                        </a>
                    </li>
                </ul>
                <ul class="list list-striped">
                    <li class="list__item"
                        th:each="i : ${#numbers.sequence( 11, ticketsCount -1) }">
                        <a th:href="@{/ticket/(testId=${test.id},ticketNum=${i+1})}">
                            Билет №
                            <th:block th:text="${i+1}"></th:block>
                        </a>
                    </li>
                </ul>
            </th:block>
            <th:block th:if="${colsCount == 3}">
                <ul class="list list-striped">
                    <li class="list__item" th:each="i : ${#numbers.sequence( 0, ticketsCount/3 )}">
                        <a th:href="@{/ticket/(testId=${test.id},ticketNum=${i+1})}">
                            Билет №
                            <th:block th:text="${i+1}"></th:block>
                        </a>
                    </li>
                </ul>
                <ul class="list list-striped">
                    <li class="list__item" th:each="i : ${#numbers.sequence( ticketsCount/3+1, 2*ticketsCount/3+1) }">
                        <a th:href="@{/ticket/(testId=${test.id},ticketNum=${i+1})}">
                            Билет №
                            <th:block th:text="${i+1}"></th:block>
                        </a>
                    </li>
                </ul>
                <ul class="list list-striped">
                    <li class="list__item" th:each="i : ${#numbers.sequence( 2*ticketsCount/3+2, ticketsCount-1 ) }">
                        <a th:href="@{/ticket/(testId=${test.id},ticketNum=${i+1})}">
                            Билет №
                            <th:block th:text="${i+1}"></th:block>
                        </a>
                    </li>
                </ul>
            </th:block>

        </th:block>
        <th:block th:if="${test.questionsNumber == 0}">
            В тесте еще нет вопросов.
        </th:block>
    </div>
    <div class="row">
        <strong>Литература для подготовки</strong>
        <table class="table table-headless">
            <tr th:each="lit : ${testLiterature}">
                <td th:text="${lit.title}" style="text-align:left;"></td>
            </tr>
        </table>
    </div>
    <br>
    <br>
</th:block>
</html>